<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      let button = document.getElementsByClassName(
        "button mini-suggest__button button_theme_search button_size_search i-bem button_js_inited"
      )[0];
      let links = document.links;

      if (button !== undefined) {
        document.getElementsByName("text")[0].value = "каталог автомобилей";
        //document.getElementsByName("text")[0].value = keyword;
        document
          .getElementsByClassName(
            "button mini-suggest__button button_theme_search button_size_search i-bem button_js_inited"
          )[0]
          .click();
      } else {
        for (let i = 0; i < links.length; i++) {
          if (links[i].href.indexOf("auto.ru") !== -1) {
            //let link = links[i];
            console.log("Нашел строку " + links[i]);
            console.log(links[i]);
            links[i].setAttribute("target", "_self ");
            console.log(links[i]);
            links[i].click();
            break;
          }
        }
      }
    </script>
  </body>
</html>
